
Service systemd - C'est quoi ?

Un service systemd permet de :

    âœ… DÃ©marrer automatiquement l'application au dÃ©marrage de vm-ia
    âœ… RedÃ©marrer automatiquement l'application si elle plante
    âœ… GÃ©rer facilement l'application avec des commandes simples :
        sudo systemctl start chat-ia (dÃ©marrer)
        sudo systemctl stop chat-ia (arrÃªter)
        sudo systemctl restart chat-ia (redÃ©marrer)
        sudo systemctl status chat-ia (voir l'Ã©tat)
    âœ… Voir les logs avec sudo journalctl -u chat-ia -f

ğŸ¯ Ma recommandation : OUI (rÃ©pondre "o")

Pourquoi ?

    C'est une VM de production qui hÃ©berge le chat
    Si vm-ia redÃ©marre (mise Ã  jour, panne, etc.), le chat redÃ©marrera automatiquement
    C'est la bonne pratique pour les applications serveur
    Vous n'aurez pas Ã  vous reconnecter en SSH pour relancer l'app aprÃ¨s un redÃ©marrage

ğŸ“ Que faire aprÃ¨s avoir rÃ©pondu "o" ?

Le script crÃ©era le fichier de service dans /tmp/chat-ia.service.

Ensuite, vous devrez exÃ©cuter ces commandes (le script vous les donnera) :

sudo cp /tmp/chat-ia.service /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable chat-ia
sudo systemctl start chat-ia

âš ï¸ Si vous rÃ©pondez "N" (non)

Vous devrez dÃ©marrer l'application manuellement Ã  chaque fois :

cd ~/vm-ia-chat
source venv/bin/activate
python app.py
# ou
gunicorn -w 4 -b 0.0.0.0:5000 app:app

Et elle s'arrÃªtera si :

    Vous fermez le terminal SSH
    La VM redÃ©marre
